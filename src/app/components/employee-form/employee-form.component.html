<div class="min-h-screen bg-gray-100">
  <!-- Navigation -->
  <nav class="bg-white shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <h1 class="text-xl font-semibold text-gray-900">
            {{ isEditMode() ? "Edit Employee" : "Add New Employee" }}
          </h1>
        </div>
        <div class="flex items-center space-x-4">
          <button
            (click)="navigateToEmployees()"
            class="text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium"
          >
            Back to Employees
          </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="max-w-3xl mx-auto py-6 sm:px-6 lg:px-8">
    <div class="bg-white shadow rounded-lg">
      <div class="px-4 py-5 sm:p-6">
        <form
          [formGroup]="employeeForm"
          (ngSubmit)="onSubmit()"
          class="space-y-6"
        >
          <!-- Personal Information -->
          <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2">
            <div>
              <label
                for="firstName"
                class="block text-sm font-medium text-gray-700"
              >
                First Name
              </label>
              <input
                type="text"
                id="firstName"
                formControlName="firstName"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              />
              <div
                *ngIf="employeeForm.get('firstName')?.errors?.['required'] && employeeForm.get('firstName')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                First name is required
              </div>
            </div>

            <div>
              <label
                for="lastName"
                class="block text-sm font-medium text-gray-700"
              >
                Last Name
              </label>
              <input
                type="text"
                id="lastName"
                formControlName="lastName"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              />
              <div
                *ngIf="employeeForm.get('lastName')?.errors?.['required'] && employeeForm.get('lastName')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Last name is required
              </div>
            </div>

            <div>
              <label
                for="email"
                class="block text-sm font-medium text-gray-700"
              >
                Email
              </label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              />
              <div
                *ngIf="employeeForm.get('email')?.errors?.['required'] && employeeForm.get('email')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Email is required
              </div>
              <div
                *ngIf="employeeForm.get('email')?.errors?.['email'] && employeeForm.get('email')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Please enter a valid email
              </div>
            </div>

            <div>
              <label
                for="phone"
                class="block text-sm font-medium text-gray-700"
              >
                Phone
              </label>
              <input
                type="tel"
                id="phone"
                formControlName="phone"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              />
            </div>
          </div>

          <!-- Employment Information -->
          <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2">
            <div>
              <label
                for="departmentId"
                class="block text-sm font-medium text-gray-700"
              >
                Department
              </label>
              <select
                id="departmentId"
                formControlName="departmentId"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              >
                <option [ngValue]="null">Select a department</option>
                <option
                  *ngFor="let dept of departments()"
                  [value]="dept.departmentId"
                >
                  {{ dept.departmentName }}
                </option>
              </select>
              <div
                *ngIf="employeeForm.get('departmentId')?.errors?.['required'] && employeeForm.get('departmentId')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Department is required
              </div>
            </div>

            <div>
              <label
                for="salary"
                class="block text-sm font-medium text-gray-700"
              >
                Salary
              </label>
              <input
                type="number"
                id="salary"
                formControlName="salary"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              />
              <div
                *ngIf="employeeForm.get('salary')?.errors?.['required'] && employeeForm.get('salary')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Salary is required
              </div>
              <div
                *ngIf="employeeForm.get('salary')?.errors?.['min'] && employeeForm.get('salary')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Salary must be greater than 0
              </div>
            </div>

            <div>
              <label
                for="hireDate"
                class="block text-sm font-medium text-gray-700"
              >
                Hire Date
              </label>
              <input
                type="date"
                id="hireDate"
                formControlName="hireDate"
                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"
              />
              <div
                *ngIf="employeeForm.get('hireDate')?.errors?.['required'] && employeeForm.get('hireDate')?.touched"
                class="text-red-500 text-sm mt-1"
              >
                Hire date is required
              </div>
            </div>

            <div class="flex items-center">
              <div class="flex h-5 items-center">
                <input
                  id="isActive"
                  type="checkbox"
                  formControlName="isActive"
                  class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"
                />
              </div>
              <div class="ml-3 text-sm">
                <label for="isActive" class="font-medium text-gray-700">
                  Active Employee
                </label>
              </div>
            </div>
          </div>

          <div class="flex justify-end space-x-3">
            <button
              type="button"
              (click)="navigateToEmployees()"
              class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
            >
              Cancel
            </button>
            <button
              type="submit"
              [disabled]="!employeeForm.valid"
              class="bg-blue-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"
            >
              {{ isEditMode() ? "Update" : "Add" }} Employee
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
